"use strict";
self["webpackHotUpdateprony"]("components-Page-Size-Components-Header-stories",{

/***/ "./src/components/Page-Size-Components/Header.jsx":
/*!********************************************************!*\
  !*** ./src/components/Page-Size-Components/Header.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _header_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./header.scss */ "./src/components/Page-Size-Components/header.scss");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");
/* harmony import */ var _SmallComponents_Inputs_Search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../SmallComponents/Inputs/Search */ "./src/components/SmallComponents/Inputs/Search.jsx");
/* harmony import */ var _img_site_logo_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../img/site-logo.svg */ "./src/img/site-logo.svg");
/* harmony import */ var _img_notification_icon_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../img/notification-icon.svg */ "./src/img/notification-icon.svg");
/* harmony import */ var _img_edit_icon_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../img/edit-icon.svg */ "./src/img/edit-icon.svg");
/* harmony import */ var _img_diamond_icon_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../img/diamond-icon.svg */ "./src/img/diamond-icon.svg");
/* harmony import */ var _img_logout_icon_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../img/logout-icon.svg */ "./src/img/logout-icon.svg");
/* harmony import */ var _img_creator_avatar_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../img/creator-avatar.svg */ "./src/img/creator-avatar.svg");
/* harmony import */ var _SmallComponents_Buttons_OrangeButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../SmallComponents/Buttons/OrangeButton */ "./src/components/SmallComponents/Buttons/OrangeButton.jsx");
/* harmony import */ var _data_store_userSlice__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../data/store/userSlice */ "./src/data/store/userSlice.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");


















const Header = props => {
  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.useNavigate)();
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
  // const user = useSelector(state => state.users.users[0]);
  const userObj = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(state => state.users.users);
  // console.log("ðŸš€ ~ file: EditProfile.jsx:89 ~ EditProfile ~ userObj:", userObj)

  // Define the function to get and validate the stored playlist data
  const getStoredUser = () => {
    try {
      // Check if currentUser is available in Redux
      const currentUser = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(state => state.users.users);
      if (currentUser && currentUser.length > 0) {
        // Save currentUser to local storage
        sessionStorage.setItem(`currentUser`, JSON.stringify(currentUser));
        return currentUser; // Return the Redux data
      } else {
        // If not available in Redux, check local storage
        const storedUser = sessionStorage.getItem('currentUser');
        if (storedUser) {
          // Parse the stored data
          const parsedUser = JSON.parse(storedUser);
          // Use the stored playlist
          // You can update the Redux state here if needed
          return parsedUser;
        } else {
          // If not available in Redux or local storage, return null
          return null;
        }
      }
    } catch (error) {
      // Handle any errors here if needed
      console.error(error);
      return null; // Return null in case of an error
    }
  };

  // Call the function to get the stored playlist data
  const storedUser = getStoredUser();
  const currentProfileRole = storedUser ? storedUser[0].user_role : "No info";
  // Now you can access the properties of the stored playlist
  const currentProfileAvatar = storedUser ? storedUser[0].user_avatar : "No info";
  const handleClick = () => {
    navigate("/SignUp");
  };
  const handleLogoClick = () => {
    if (currentProfileRole === "user") {
      navigate("/UserMain");
    } else {
      navigate("/Creatormain");
    }
  };
  const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  if (userObj && currentProfileRole === "user") {
    setNotifications(true);
  }
  const [profileDrop, setProfileDrop] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [videoButtonActive, setVideoButtonActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);
  const [burgerMenuActive, setBurgerMenuActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
      className: burgerMenuActive ? "burger-menu open" : "burger-menu",
      onClick: () => {
        setBurgerMenuActive(!burgerMenuActive);
      },
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("span", {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("span", {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("span", {})]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
      className: burgerMenuActive ? "burger-menu__menu active" : "burger-menu__menu",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
        className: "burger-menu__row",
        children: "Video"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
        className: "burger-menu__row",
        children: "Store"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
        className: "burger-menu__row",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
          src: `http://localhost:1337${currentProfileAvatar}`,
          alt: "",
          className: "burger-menu__icon"
        }), "Profile"]
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
        className: "burger-menu__row",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
          className: "header__notifications",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
            src: _img_notification_icon_svg__WEBPACK_IMPORTED_MODULE_5__,
            alt: "1",
            className: "header__notifications-icon"
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
            className: notifications ? "header__notifications-number active" : "header__notifications-number",
            children: "4"
          })]
        }), "Notification"]
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
      className: "header",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
        src: _img_site_logo_svg__WEBPACK_IMPORTED_MODULE_4__,
        alt: "",
        className: "header__logo",
        onClick: () => {
          handleLogoClick();
        }
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
        className: "header__buttons",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
          className: "header__search-container",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_SmallComponents_Inputs_Search__WEBPACK_IMPORTED_MODULE_3__["default"], {})
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
          className: "header__notifications",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
            src: _img_notification_icon_svg__WEBPACK_IMPORTED_MODULE_5__,
            alt: "",
            className: "header__notifications-icon"
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
            className: notifications ? "header__notifications-number active" : "header__notifications-number",
            children: "4"
          })]
        }), props.videosButtons && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
          className: "header__videos-buttons",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("button", {
            className: videoButtonActive === 1 ? "header__video-button active" : "header__video-button",
            onClick: () => {
              setVideoButtonActive(1);
            },
            children: "Video"
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("button", {
            className: videoButtonActive === 2 ? "header__video-button active" : "header__video-button",
            onClick: () => {
              setVideoButtonActive(2);
            },
            children: "Store"
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
          className: "header__profile",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
            className: profileDrop ? "header__profile-preview active" : "header__profile-preview",
            onClick: () => {
              setProfileDrop(!profileDrop);
            },
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
              src: `http://localhost:1337${currentProfileAvatar}`,
              alt: "",
              className: "header__profile-avatar"
            }), "Profile"]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
            className: profileDrop ? "header__profile-dropdown active" : "header__profile-dropdown",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.Link, {
              to: "/EditProfile",
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
                className: "header__profile-row",
                onClick: () => {
                  navigate("/EditProfile");
                },
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
                  src: _img_edit_icon_svg__WEBPACK_IMPORTED_MODULE_6__,
                  alt: "",
                  className: "header__profile-row-icon"
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
                  className: "header__profile-row-text",
                  children: "Edit profile"
                })]
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.Link, {
              to: "/LogIn",
              onClick: () => {
                dispatch((0,_data_store_userSlice__WEBPACK_IMPORTED_MODULE_11__.logoutUser)());
              },
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
                className: "header__profile-row",
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
                  src: _img_diamond_icon_svg__WEBPACK_IMPORTED_MODULE_7__,
                  alt: "",
                  className: "header__profile-row-icon"
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
                  className: "header__profile-row-text",
                  children: ["Switch to ", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("br", {}), "business account"]
                })]
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
              className: "header__profile-line"
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.Link, {
              to: "/LogIn",
              onClick: () => {
                dispatch((0,_data_store_userSlice__WEBPACK_IMPORTED_MODULE_11__.logoutUser)());
              },
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
                className: "header__profile-row",
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img", {
                  src: _img_logout_icon_svg__WEBPACK_IMPORTED_MODULE_8__,
                  alt: "",
                  className: "header__profile-row-icon"
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
                  className: "header__profile-row-text",
                  children: "Log out"
                })]
              })
            })]
          })]
        })]
      })]
    })]
  });
};
Header.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "Header"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Header);

/***/ })

});
//# sourceMappingURL=components-Page-Size-Components-Header-stories.9490470a3bb4c01f9ef7.hot-update.js.map